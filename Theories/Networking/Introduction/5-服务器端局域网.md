# 第 5 章　服务器端局域网


<!-- TOC -->

- [第 5 章　服务器端局域网](#第-5-章　服务器端局域网)
    - [Web 服务器的部署地点](#web-服务器的部署地点)
        - [直接部署在公司网络上](#直接部署在公司网络上)
        - [部署防火墙](#部署防火墙)
        - [将 Web 服务器部署在数据中心](#将-web-服务器部署在数据中心)
    - [防火墙的结构和原理](#防火墙的结构和原理)
    - [通过将请求平均分配给多台服务器来平衡负载](#通过将请求平均分配给多台服务器来平衡负载)
    - [利用缓存服务器分担负载](#利用缓存服务器分担负载)
    - [内容分发服务](#内容分发服务)
    - [References](#references)

<!-- /TOC -->


## Web 服务器的部署地点
### 直接部署在公司网络上
1. 最简单的是服务器直接部署在公司网络上，并且可以从互联网直接访问。
2. 这种情况下，网络包通过最近的 POP 中的路由器、接入网以及服务器端路由器之后，就直接到达了服务器。
3. 以前这样的服务器部署方式很常见，但现在已经不是主流方式了。这里有几个原因。第一个原因是 IP 地址不足。这样的方式需要为公司网络中的所有设备，包括服务器和客户端计算机，都分配各自的公有地址。然而现在公有地址已经不够用了，因此采用这种方式已经不现实了。
4. 另一个原因是安全问题。这种方式中，从互联网传来的网络包会无节制地进入服务器，这意味着服务器在攻击者看来处于 “裸奔” 状态。当然，我们可以强化服务器本身的防御来抵挡攻击，这样可以一定程度上降低风险。但是，任何设置失误都会产生安全漏洞，而裸奔状态的服务器，其安全漏洞也都会暴露出来。人工方式总会出错，安全漏洞很难完全消除，因此让服务器裸奔并不是一个稳妥的办法。

### 部署防火墙
1. 现在我们一般会部署防火墙。防火墙的作用类似于海关，它只允许发往指定服务器的指定应用程序的网络包通过，从而屏蔽其他不允许通过的包。这样一来，即便应用程序存在安全漏洞，也可以降低相应的风险。因为防火墙屏蔽了不允许从外部访问的应用程序，所以即便这些程序存在安全漏洞，用于攻击的网络包也进不来。
2. 当然，即便如此风险也不会降到零，因为如果允许外部访问的应用程序中有安全漏洞，还是有可能遭到攻击的。因此管理员必须注意两点：1. 更新应用程序修补安全漏洞；2. 正确配置应用程序避免出现漏洞。 

### 将 Web 服务器部署在数据中心
1. 上面两种方式都是将 Web 服务器部署在公司里，但 Web 服务器不仅可以部署在公司里，也可以把服务器放在网络运营商等管理的数据中心里，或者直接租用运营商提供的服务器。
2. 数据中心是与运营商核心部分 NOC 直接连接的，或者是与运营商之间的枢纽 IX 直接连接的。换句话说，数据中心通过高速线路直接连接到互联网的核心部分，因此将服务器部署在这里可以获得很高的访问速度，当服务器访问量很大时这是非常有效的。
3. 此外，数据中心一般位于具有抗震结构的大楼内，还具有自主发电设备，并实行 24 小时门禁管理，可以说比放在公司里具有更高的安全性。
4. 而且，数据中心不但提供安放服务器的场地，还提供各种附加服务，如服务器工作状态监控、防火墙的配置和运营、非法入侵监控等，从这一点来看，其安全性也更高。


## 防火墙的结构和原理


## 通过将请求平均分配给多台服务器来平衡负载


## 利用缓存服务器分担负载


## 内容分发服务


## References
* [网络是怎样连接的](https://book.douban.com/subject/26941639/)