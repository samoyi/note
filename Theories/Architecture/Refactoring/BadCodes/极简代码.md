# 极简代码

<!-- TOC -->

- [极简代码](#极简代码)
    - [思想](#思想)
    - [例子](#例子)
        - [自增自减合并到其他表达式里](#自增自减合并到其他表达式里)
    - [References](#references)

<!-- /TOC -->


## 思想
1. 中层设计规则：语义化。
2. 代码看起来的样子应该和一般人直观理解的样子一样，否则阅读的人就要转换一遍逻辑。
3. 不要双向列表那种聪明的代码。
4. 对人友好的代码可能逻辑上有一点啰嗦，不够简洁，甚至性能也会有一点点差。但是大多数情况下，节省几行代码并不会带来性能上的提升，但却会增加理解的困难。


## 例子
### 自增自减合并到其他表达式里
1. 有时会引起 bug 的一个地方就是下面这种情况
    ```js
    foo(n++) // 其实应该是 foo(++n)
    ```
2. 一般 `n++` 的情况要比 `++n` 要多，所以就会搞错。
3. 而且即使没搞错，理解的时候也并不直观。写成下面的方式就很直观
    ```js
    foo(n+1);
    n++;
    ```


## References
* [《重构（第2版）》](https://book.douban.com/subject/33400354/)
