# 重构的基本原则


<!-- TOC -->

- [重构的基本原则](#重构的基本原则)
        - [如果业务逻辑混乱](#如果业务逻辑混乱)
    - [程序会持续变化，重构也要持续进行](#程序会持续变化重构也要持续进行)
    - [好的框架设计可以让使用者在不知道原理的情况下写出好的代码](#好的框架设计可以让使用者在不知道原理的情况下写出好的代码)
    - [人是软件开发的重要因素](#人是软件开发的重要因素)
    - [小步修改](#小步修改)
    - [References](#references)

<!-- /TOC -->


### 如果业务逻辑混乱
1. 如果业务逻辑清晰，那代码按照业务逻辑实现，就可以保证清晰。
2. 如果业务逻辑混乱，那代码实现可以有两个选择来兼容业务逻辑的混乱：
    * 忠实于业务逻辑，那么代码逻辑就一样混乱了。
    * 在混乱的业务逻辑上包装一层，虽然底层的包装还是很奇怪，但外层的代码逻辑看起来比较顺畅了。
3. 无论哪一种兼容的方法，都挺混乱。


## 程序会持续变化，重构也要持续进行


## 好的框架设计可以让使用者在不知道原理的情况下写出好的代码
1. 比如你可能完全不知道 Hide Delegate 的思想，但你使用了 Vuex 的 getter，那就是做到了这一点。


## 人是软件开发的重要因素
1. 程序员写代码的时候要清晰的理解代码，看别人代码的时候也要清晰的理解，修改软件的时候仍然需要清晰理解。
2. 如果代码混乱导致思维混乱，就可能写出混乱的代码，或者之后修改得混乱。这样不仅有可能性能低下，还很有可能出错。
3. 有时我们为了追求性能，可能会想写执行效率高但理解困难的代码。这样固然会带来一些直接的性能提升，但是难以理解和难以维护，就会带来上面说的混乱带来性能损失和错误。


## 小步修改
* 小步修改使得重构可以随时开始随时停止，让程序可以随时恢复到可用状态。
* 重构本来就是为了处理不合逻辑不容易理解不容易修改的代码，所以小步修改可以降低每次修改时的难度，减少修改时出错的几率。
* 一项重构如果比较大，修改时如果不能一次完成，中断后再继续时还要回忆来恢复之前的思路。


## References
* [PEP 20 -- The Zen of Python](https://www.python.org/dev/peps/pep-0020/)
* [《重构（第2版）》](https://book.douban.com/subject/33400354/)