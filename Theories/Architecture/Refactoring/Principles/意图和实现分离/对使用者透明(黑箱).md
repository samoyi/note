# 对使用者透明


<!-- TOC -->

- [对使用者透明](#对使用者透明)
    - [思想](#思想)
    - [涉及的 bad code](#涉及的-bad-code)
    - [涉及的重构方法](#涉及的重构方法)
    - [涉及的设计模式](#涉及的设计模式)
    - [References](#references)

<!-- /TOC -->


## 思想
1. 任何实体的设计，函数、模块或者是一个系统，都应该对它的使用者保持透明。
2. 也就是说，实体内部的改变，对于实体的使用者来说，应该是无感知的。
3. 黑箱满足使用者的意图，但是不需要、也不应该让使用者知道实现。
4. 用户只能通过黑箱提供的 API 看到黑箱希望用户看到的数据、操作黑箱希望用户操作的数据；除此以外用户不能看到和修改其他的内部数据。
5. 两方面的好处：
    * 用户不需要知道原理就可以轻松使用；而且只要接口不变，即使原理改变也不会影响用户；
    * 隐藏了内部实现，对于内部系统来说更加安全和稳定。


## 涉及的 bad code
* Data Class
* Insider Trading
* Long Parameter List
* Message Chains


## 涉及的重构方法
* Encapsulate Variable
* Encapsulate Collection
* Encapsulate Record
* Hide Delegate
* Replace Temp with Query


## 涉及的设计模式
* 代理模式
* 装饰模式


## References
* [*Refactoring: Improving the Design of Existing Code,Second Edition*](https://book.douban.com/subject/30332135/)
