# 重构的基本原则


<!-- TOC -->

- [重构的基本原则](#重构的基本原则)
    - [先看一个例子](#先看一个例子)
    - [References](#references)

<!-- /TOC -->


## 先看一个例子
1. 我 clone 其他人开发的一个前端项目后安装依赖发生错误，原因是 `node-sass` 的版本和我当前 node 的版本不兼容。
2. 当时显示直接把 `node-sass` 更新到了最新版本解决了这个问题。但后来又出了问题，然后有看到 `node-sass` 已经被启用，建议使用 `sass`，所以我也直接弃用的 `node-sass`。
3. 几天后发现了莫名其妙的依赖相关的 bug 始终无法解决。最后我还原到使用最初的 `package.json` 安装依赖，然后又面对了最初的 `node-sass` bug。
4. 这次我没有盲目升级到最新或者直接弃用，而是到 `node-sass` NPM 页面查看，发现它有一个推荐的版本和 node 版本对应的表格，我当前的 node 不应该用最新的。于是我安装了和我当前 node 版本对应的 `node-sass` 版本，上面所有的问题都解决了。
5. 从 `node-sass` 切换到 `sass` 的变化肯定要比 `node-sass` 升级的变化大。在你不清楚具体有哪些变动时，就应该使用最小可用变动。


## References
