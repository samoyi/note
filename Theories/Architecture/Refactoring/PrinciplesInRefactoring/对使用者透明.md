# The Two Hats


<!-- TOC -->

- [The Two Hats](#the-two-hats)
    - [思想](#思想)
    - [实现逻辑](#实现逻辑)
        - [实体内部兼容](#实体内部兼容)
        - [使用代理模式或装饰模式外部封装](#使用代理模式或装饰模式外部封装)
    - [涉及的 bad code](#涉及的-bad-code)
    - [涉及的重构方法](#涉及的重构方法)
    - [References](#references)

<!-- /TOC -->


## 思想
1. 任何实体的设计，函数、模块或者是一个系统，都应该对它的使用者保持透明。
2. 也就是说，实体内部的改变，对于实体的使用者来说，应该是无感知的。


## 实现逻辑
### 实体内部兼容

### 使用代理模式或装饰模式外部封装
原功能保持不变，新功能使用代理或者装饰


## 涉及的 bad code
* Duplicated Code


## 涉及的重构方法
* Extract Function


## References
* [*Refactoring: Improving the Design of Existing Code,Second Edition*](https://book.douban.com/subject/30332135/)
