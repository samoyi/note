# 提前让函数退出代替嵌套条件分支

## 美学
1. 一定要怕麻烦！思维一定要断舍离！而且要尽快的断舍离！
2. 要让自己的思维工作台（思维内存）高效的处理小任务，而不是耗时的处理整个大任务。


## 好处
1. 带有嵌套条件废止的函数在写和看的时候，思维都是递归是的，会一层一层的叠加调用栈，消耗大脑的内存。
2. 如果能在某些条件下提前 return，则就可以及时的清空一层调用栈，减少大脑的内存消耗。


## 例子
1. 比如在一个负责取得用户信息的函数里面，我们还需要打印跟用户信息有关的 log ，那么打印 log 的语句就可以被封装在一个独立的函数里：
    ```js
    var del = function( obj ){
        var ret;
        if ( !obj.isReadOnly ){    // 不为只读的才能被删除
            if ( obj.isFolder ){    // 如果是文件夹
                ret = deleteFolder( obj );
            }
            else if ( obj.isFile ){    // 如果是文件
                ret = deleteFile( obj );
            }
        }
        return ret;
    };
    ```
    这样的删除操作的条件路径，看起来是符合逻辑顺序的，但同时也是嵌套的递归的。改成：
    ```js
    var del = function( obj ){
        if ( obj.isReadOnly ){    // 反转 if 表达式
            return; // 立刻清空思维调用栈，这之前的逻辑完全清除出大脑
        }
        // 下面这两个把上面平级的两个也拆分了，但感觉意义不大
        // 因为平级的 if  else if 关系，本来就是每走一步就完全不考虑之前的条件了
        if ( obj.isFolder ){
            return deleteFolder( obj );
        }
        if ( obj.isFile ){
            return deleteFile( obj );
        }
    };
    ```



## References
* [《JavaScript设计模式与开发实践》](https://book.douban.com/subject/26382780/)
