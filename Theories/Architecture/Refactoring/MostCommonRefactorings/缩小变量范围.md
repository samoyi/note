# 缩小变量范围


<!-- TOC -->

- [缩小变量范围](#缩小变量范围)
    - [思想](#思想)
        - [消除非必要的可变性](#消除非必要的可变性)
    - [场景](#场景)
        - [用 `==` 替换 `!=`](#用--替换-)

<!-- /TOC -->


## 思想
这里的变量并不是只狭义的的变量，而是任何可变化的东西。

### 消除非必要的可变性
如果可以缩小范围，那就尽量的缩小范围


## 场景
### 用 `==` 替换 `!=`
1. 例如变量 `n` 合理的三个取值是 -1、0 和 1，如果一个判断是只要 `n` 为 -1 或者 1，则可能会写成
    ```cpp
    if (n != 0)
    ```
2. 在 “合理” 的情况下，这么判断是没问题的。但这样判断的前提是 `n` 不会出现合理的三个取值以外的值。
3. 而在实际中，其实常常会出现 `n` 等于 `undefined` 之类的情况。除非你在更早的时候对 `n` 进行了断言，否则一旦 `n` 等于 `undefined`，这个判断就会失效。
4. 所以如果就是要判断是只要 `n` 为 -1 或者 1，那就应该写成
    ```cpp
    if (n == -1 || n == 1)
    ```

