# Least Knowledge Principle  (Law of Demeter)

最少知识原则（LKP）说的是一个软件实体应当尽可能少地与其他实体发生相互作用。这里的软件实体是一个广义的概念，不仅包括对象，还包括系统、类、模块、函数、变量等。


<!-- TOC -->

- [Least Knowledge Principle  (Law of Demeter)](#least-knowledge-principle--law-of-demeter)
    - [设计思想](#设计思想)
        - [断舍离——维护的信息越少就越简单、安全和灵活](#断舍离维护的信息越少就越简单安全和灵活)
        - [SRP](#srp)
    - [实践原则](#实践原则)
    - [设计模式中的最少知识原则](#设计模式中的最少知识原则)
        - [中介者模式](#中介者模式)
        - [外观模式](#外观模式)
    - [权衡](#权衡)
    - [References](#references)

<!-- /TOC -->


## 设计思想
### 断舍离——维护的信息越少就越简单、安全和灵活
1. 一个对象只掌握必要的很少的信息，那么维护起来就很简单。
2. 这个对象在后续发生修改时，牵涉的部分也就会更少，维护成本也就更低。
3. 如果对象还掌握了外部其他对象的信息，那么当其他对象发生改变时，这个对象自己也会受到影响。

### SRP
如果一个对象比较纯，只维护了它自身相关的信息，那就是一个很 SRP 的对象。


## 实践原则
1. 最少知识原则要求我们在设计程序时，应当尽量减少对象之间的交互。如果两个对象之间不必彼此直接通信，那么这两个对象就不要发生直接的相互联系。
2. 常见的做法是引入一个第三者中介，来承担这些对象之间的通信作用。如果一些对象需要向另一些对象发起请求，可以通过第三者中介来转发这些请求。


## 设计模式中的最少知识原则
### 中介者模式
对象不掌握额外的信息，如果必须要额外的信息才能处理，那就交给中介代理。

### 外观模式
TODO


## 权衡
就和断舍离的问题一样，一个实体越是 LKP，就需要越频繁的与外部沟通，也就会承担越多的沟通成本。这是在维护成本和沟通成本之间的权衡。


## References
* [《JavaScript设计模式与开发实践》](https://book.douban.com/subject/26382780/)
