# Process and thread

## Process
### 概述
1. 进程是操作系统对一个正在运行的程序的一种抽象。
2. 在一个系统上可以同时运行多个进程，而每个进程都好像在独占地使用硬件。而并发运行，则是
说一个进程的指令和另一个进程的指令是交错执行的。
3. 在大多数系统中，需要运行的进程数是多于可以运行它们的 CPU 个数的。传统系统在一个时刻
只能执行一个程序，而多核处理器同时能执行多个程序。
4. 无论是在多核还是在单核系统中，一个 CUP 看上去都像是在并发地执行多个进程，这是通过处
理器在进程间切换来实现的。
5. 操作系统实现这种交错执行的机制称为 **上下文切换**。

### 上下文
1. 操作系统保持跟踪进程运行所需的所有状态信息。这种状态，也就是 **上下文**，包括许多信
息，比如 PC 和寄存器文件的当前值，以及主存的内容。
2. 在任何一个时刻，单处理器系统都只能执行一个进程的代码。
3. 当操作系统决定要把控制权从当前进程转移到某个新进程时，就会进行 **上下文切换**。即保
存当前进程的上下文，恢复新进程的上下文，然后将控制权传递到新进程。新进程就会从它上次停止
的地方开始。
4. 从一个进程到另一个进程的转换是由操作系统内核（kernel）管理的。
5. 内核是操作系统代码常驻主存的部分。当应用程序需要操作系统的某些操作时，比如读写文件，
它就执行一条特殊的系统调用（system call）指令，将控制权传递给内核。然后内核执行被请求的
操作并返回应用程序。
6. 注意，内核不是一个独立的进程。相反，它是系统管理全部进城所用代码和数据结构的集合。


## Thread
### 概述
1. 在现代系统中，一个进程实际上可以有多个称为线程的执行单元组成，每个线程都运行在进程的
上下文中，并共享同样的代码和全局数据。
2. 因为网络服务器中对并行处理的请求，线程称为越来越重要的编程模型，因为多线程之间比多进
程之间更容易共享数据，也因为线程一般来说都比进程更高效。


## References
* [《深入理解计算机系统（原书第3版）》 1.7.1 和 1.7.2](https://book.douban.com/subject/26912767/)
