# package.json 文件

## 用途
1. 看一下`package.json`中每个包的指定版本号，都是以`^`开头的，也就是说，如果其他人根据该文件安装其中的某个包，会安装相同大版本里面最新的版本。
2. 因为在同一个大版本里，新版本是兼容旧版本功能的，所以使用更新看起来挺好，并不影响旧功能的使用。
3. 但这种设计的问题在于，比如某个包我安装的是`1.0.0`，里面有个 bug，我针对这个 bug 在代码里做出了一些 shim。后来这个包的开发者修复了这个 bug，发布了`1.0.1`。
4. 之后另一个人克隆了我的项目并安装包，它安装的就是`1.0.1`。现在 bug 已经不存在，而我之前的 shim 可能在这种情况下多余反而出现了不期望的情况。
5. `package-lock.json`的用途就是记录最初安装的包的版本，之后其他人再安装，也是准确的安装同一个版本。


## `package.json`和`package-lock.json`的优先级
如果没有主动去更新`package.json`，则安装包的版本是根据`package-lock.json`；如果更新了`package.json`，则再安装时会根据更新后的`package.json`，同时也会更新`package-lock.json`。


## References
* [Everything You Wanted To Know About package-lock.json But Were Too Afraid To Ask](https://medium.com/coinmonks/everything-you-wanted-to-know-about-package-lock-json-b81911aa8ab8)
