# 像素相关


<!-- TOC -->

- [像素相关](#像素相关)
    - [CSS 像素 和 设备像素 和 设备独立像素](#css-像素-和-设备像素-和-设备独立像素)
        - [设备像素](#设备像素)
        - [设备独立像素](#设备独立像素)
        - [为什么需要设备独立像素](#为什么需要设备独立像素)
    - [DPR](#dpr)
    - [PPI](#ppi)

<!-- /TOC -->


## CSS 像素 和 设备像素 和 设备独立像素  
1. px 是一个相对单位，相对的是 **设备像素（device pixel）**。如果页面缩放比为 1，1 个 CSS 像素等于 1 个 **设备独立像素（Device Independent Pixel）**。
2. 假设页面放大一倍，原来的 1px 的东西变成 2px，在实际宽度不变的情况下1px 变得跟原来的 2px 的长度（长宽）一样了（元素会占据更多的设备像素）。假设原来需要 320px 才能填满的宽度现在只需要 160px
3. CSS像素又具有两个方面的相对性：
    * 在同一个设备上，每 1 个 CSS 像素所代表的设备像素是可以变化的（比如调整屏幕的分辨率）
    * 在不同的设备之间，每 1个  CSS 像素所代表的设备像素是可以变化的（比如两个不同型号的手机）
4. px会受到下面的因素的影响而变化：
    * 每英寸像素（PPI）
    * 设备像素比（DPR）

### 设备像素
1. 设备像素（device pixels），又称为 **物理像素**，指设备能控制显示的最小物理单位。
2. 从屏幕在工厂生产出的那天起，它上面设备像素点就固定不变了，单位为 pt。

### 设备独立像素
1. 设备独立像素（Device Independent Pixel）：与设备无关的逻辑像素，代表可以通过程序控制使用的虚拟像素，是一个总体概念，包括了CSS像素
2. 在 javaScript 中可以通过 `window.screen.width`/`window.screen.height` 查看。
3. 一个设备独立像素里可能包含1个或者多个物理像素点，包含的越多则屏幕看起来越清晰。

### 为什么需要设备独立像素
1. 例如 iPhone 3GS 和 iPhone 4/4s 的尺寸都是 3.5 寸，但 iPhone 3GS 的分辨率是 320x480，iPhone 4/4s 的分辨率是 640x960
2. 这意味着，iPhone 3GS 一行有 320 个物理像素，iPhone 4/4s 一行有 640 个物理像素
3. 如果我们按照真实的物理像素进行布局，比如说我们按照 320 物理像素进行布局，到了 640 物理像素的手机上就会有一半的空白，为了避免这种问题，就产生了虚拟像素单位
4. 我们统一 iPhone 3GS 和 iPhone 4/4s 都是 320 个虚拟像素，只是在 iPhone 3GS 上，最终 1 个虚拟像素换算成 1 个物理像素，在 iphone 4s 中，1 个虚拟像素最终换算成 2 个物理像素
5. 至于 1 个虚拟像素被换算成几个物理像素，这个数值我们称之为 **设备像素比**，也就是下面介绍的 **dpr**


## DPR
DPR（Device Pixel Ratio），设备像素比，代表设备独立像素到设备像素的转换关系，也就是设备像素除以设备独立像素。在 JavaScript 中可以通过 `window.devicePixelRatio` 获取.
* 当设备像素比为1:1时，使用1（1×1）个设备像素显示1个CSS像素
* 当设备像素比为2:1时，使用4（2×2）个设备像素显示1个CSS像素
* 当设备像素比为3:1时，使用9（3×3）个设备像素显示1个CSS像素


## PPI
1. PPI（Pixel Per Inch），用来表示像素密度（pixel density），数值越高说明屏幕可以更高密度的显示图像。
2. 计算方法是 $\frac{\sqrt{x^2 + y^2}}{屏幕尺寸}$。其中 x 和 y 是屏幕的纵横设备像素数，屏幕尺寸是屏幕对角线英寸数。
3. DPI（Dot Per Inch）和 PPI 一样。
